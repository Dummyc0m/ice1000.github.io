<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- saved from url=(0052)http://www.iwesoft.com/ -->
<html>
<head>
<title>pg_0002</title>

<style>
<!-- 
select {font-size:12px;}
A:link {text-decoration: none; color: blue}
A:visited {text-decoration: none; color: purple}
A:active {text-decoration: red}
A:hover {text-decoration: underline; color:red}
-->
</style>
<script TYPE="text/javascript"> 
<!-- hide 
function killerrors()
{ 
return true; 
} 
window.onerror = killerrors; 
// --> 
</script>
<style type="text/css">
<!--
.ft0{font-style:normal;font-weight:normal;font-size:16px;font-family:;color:#000000;}
.ft1{font-style:normal;font-weight:normal;font-size:16px;font-family:Calibri;color:#000000;}
.ft2{font-style:normal;font-weight:normal;font-size:16px;font-family:Calibri;color:#bababa;}
.ft3{font-style:normal;font-weight:normal;font-size:16px;font-family:Calibri;color:#e8bf6a;}
.ft4{font-style:normal;font-weight:normal;font-size:16px;font-family:Calibri;color:#9876aa;}
.ft5{font-style:normal;font-weight:normal;font-size:16px;font-family:Calibri;color:#6a8759;}
-->
</style>
</head>
<body vlink="#FFFFFF" link="#FFFFFF" bgcolor="#ffffff">

<script TYPE="text/javascript">
var currentpos,timer; 
function initialize() 
{ 
timer=setInterval("scrollwindow()",10);
} 
function sc(){
clearInterval(timer); 
}
function scrollwindow() 
{ 
currentpos=document.body.scrollTop; 
window.scroll(0,++currentpos); 
if (currentpos != document.body.scrollTop) 
sc();
} 
document.onmousedown=sc
document.ondblclick=initialize
</script>
<div style="position:absolute;top:0;left:0"><img width="827" height="1169" src="pg_0002.jpg" ALT=""></div>
<div style="position:absolute;top:102;left:158"><span class="ft0">非常简单，一个</span></div>
<div style="position:absolute;top:102;left:279"><span class="ft1">CardView</span></div>
<div style="position:absolute;top:102;left:347"><span class="ft0">一个</span></div>
<div style="position:absolute;top:102;left:385"><span class="ft1">TextView</span></div>
<div style="position:absolute;top:102;left:446"><span class="ft0">。</span></div>
<div style="position:absolute;top:123;left:158"><span class="ft0">效果如下。</span></div>
<div style="position:absolute;top:165;left:158"><span class="ft0">但是在经过我的尝试之后，发现不能在代码中动态设置</span></div>
<div style="position:absolute;top:165;left:560"><span class="ft2">layout_gravity</span></div>
<div style="position:absolute;top:165;left:660"><span class="ft0">属性，</span></div>
<div style="position:absolute;top:186;left:125"><span class="ft0">况且</span></div>
<div style="position:absolute;top:186;left:162"><span class="ft1">CardView</span></div>
<div style="position:absolute;top:186;left:231"><span class="ft0">是元素的根</span></div>
<div style="position:absolute;top:186;left:318"><span class="ft1">View</span></div>
<div style="position:absolute;top:186;left:352"><span class="ft0">，自然无法改动。所以我在经过了一阵头脑风暴</span></div>
<div style="position:absolute;top:206;left:125"><span class="ft0">之后，&frac12;代码写成了这样：</span></div>
<div style="position:absolute;top:227;left:125"><span class="ft3">&lt;FrameLayout</span></div>
<div style="position:absolute;top:248;left:158"><span class="ft4">android</span></div>
<div style="position:absolute;top:248;left:210"><span class="ft2">:id=</span></div>
<div style="position:absolute;top:248;left:236"><span class="ft5">&quot;@+id/messageFrame&quot;</span></div>
<div style="position:absolute;top:269;left:158"><span class="ft4">android</span></div>
<div style="position:absolute;top:269;left:210"><span class="ft2">:layout_width=</span></div>
<div style="position:absolute;top:269;left:313"><span class="ft5">&quot;match_parent&quot;</span></div>
<div style="position:absolute;top:290;left:158"><span class="ft4">android</span></div>
<div style="position:absolute;top:290;left:210"><span class="ft2">:layout_height=</span></div>
<div style="position:absolute;top:290;left:317"><span class="ft5">&quot;wrap_content&quot;</span></div>
<div style="position:absolute;top:290;left:426"><span class="ft3">&gt;</span></div>
<div style="position:absolute;top:331;left:158"><span class="ft3">&lt;android.support.v7.widget.CardView</span></div>
<div style="position:absolute;top:352;left:191"><span class="ft4">app</span></div>
<div style="position:absolute;top:352;left:217"><span class="ft2">:cardCornerRadius=</span></div>
<div style="position:absolute;top:352;left:350"><span class="ft5">&quot;@dimen/myMessageCornerRadius&quot;</span></div>
<div style="position:absolute;top:373;left:191"><span class="ft4">app</span></div>
<div style="position:absolute;top:373;left:217"><span class="ft2">:cardElevation=</span></div>
<div style="position:absolute;top:373;left:322"><span class="ft5">&quot;3dp&quot;</span></div>
<div style="position:absolute;top:394;left:191"><span class="ft4">android</span></div>
<div style="position:absolute;top:394;left:244"><span class="ft2">:id=</span></div>
<div style="position:absolute;top:394;left:269"><span class="ft5">&quot;@+id/messageCard&quot;</span></div>
<div style="position:absolute;top:415;left:191"><span class="ft4">tools</span></div>
<div style="position:absolute;top:415;left:225"><span class="ft2">:layout_margin=</span></div>
<div style="position:absolute;top:415;left:336"><span class="ft5">&quot;@dimen/messageToSurround&quot;</span></div>
<div style="position:absolute;top:436;left:191"><span class="ft4">tools</span></div>
<div style="position:absolute;top:436;left:225"><span class="ft2">:layout_gravity=</span></div>
<div style="position:absolute;top:436;left:334"><span class="ft5">&quot;end&quot;</span></div>
<div style="position:absolute;top:456;left:191"><span class="ft4">android</span></div>
<div style="position:absolute;top:456;left:244"><span class="ft2">:layout_width=</span></div>
<div style="position:absolute;top:456;left:346"><span class="ft5">&quot;wrap_content&quot;</span></div>
<div style="position:absolute;top:477;left:191"><span class="ft4">android</span></div>
<div style="position:absolute;top:477;left:244"><span class="ft2">:layout_height=</span></div>
<div style="position:absolute;top:477;left:350"><span class="ft5">&quot;wrap_content&quot;</span></div>
<div style="position:absolute;top:477;left:459"><span class="ft3">&gt;</span></div>
<div style="position:absolute;top:519;left:191"><span class="ft3">&lt;TextView</span></div>
<div style="position:absolute;top:540;left:225"><span class="ft4">tools</span></div>
<div style="position:absolute;top:540;left:258"><span class="ft2">:text=</span></div>
<div style="position:absolute;top:540;left:297"><span class="ft5">&quot;@string/hello&quot;</span></div>
<div style="position:absolute;top:561;left:225"><span class="ft4">android</span></div>
<div style="position:absolute;top:561;left:277"><span class="ft2">:id=</span></div>
<div style="position:absolute;top:561;left:302"><span class="ft5">&quot;@+id/messageText&quot;</span></div>
<div style="position:absolute;top:581;left:225"><span class="ft4">android</span></div>
<div style="position:absolute;top:581;left:277"><span class="ft2">:layout_margin=</span></div>
<div style="position:absolute;top:581;left:388"><span class="ft5">&quot;@dimen/myMessageMargin&quot;</span></div>
<div style="position:absolute;top:602;left:225"><span class="ft4">android</span></div>
<div style="position:absolute;top:602;left:277"><span class="ft2">:textSize=</span></div>
<div style="position:absolute;top:602;left:343"><span class="ft5">&quot;20sp&quot;</span></div>
<div style="position:absolute;top:623;left:225"><span class="ft4">android</span></div>
<div style="position:absolute;top:623;left:277"><span class="ft2">:layout_width=</span></div>
<div style="position:absolute;top:623;left:380"><span class="ft5">&quot;wrap_content&quot;</span></div>
<div style="position:absolute;top:644;left:225"><span class="ft4">android</span></div>
<div style="position:absolute;top:644;left:277"><span class="ft2">:layout_height=</span></div>
<div style="position:absolute;top:644;left:384"><span class="ft5">&quot;wrap_content&quot;</span></div>
<div style="position:absolute;top:644;left:497"><span class="ft3">/&gt;</span></div>
<div style="position:absolute;top:686;left:158"><span class="ft3">&lt;/android.support.v7.widget.CardView&gt;</span></div>
<div style="position:absolute;top:706;left:125"><span class="ft3">&lt;/FrameLayout&gt;</span></div>
<div style="position:absolute;top:748;left:158"><span class="ft0">只是在外面再套了一层</span></div>
<div style="position:absolute;top:748;left:329"><span class="ft1">FrameLayout</span></div>
<div style="position:absolute;top:748;left:417"><span class="ft0">，但是这样的话，</span></div>
<div style="position:absolute;top:748;left:550"><span class="ft1">RecyclerView</span></div>
<div style="position:absolute;top:748;left:644"><span class="ft0">的元素</span></div>
<div style="position:absolute;top:769;left:125"><span class="ft0">就不再是一个个的</span></div>
<div style="position:absolute;top:769;left:262"><span class="ft1">CardView</span></div>
<div style="position:absolute;top:769;left:327"><span class="ft0">，而是一个个的</span></div>
<div style="position:absolute;top:769;left:447"><span class="ft1">FrameLayout</span></div>
<div style="position:absolute;top:769;left:535"><span class="ft0">。而我在这一个个的</span></div>
<div style="position:absolute;top:790;left:125"><span class="ft1">Frame</span></div>
<div style="position:absolute;top:790;left:171"><span class="ft0">就能轻松自如地操作这一个个</span></div>
<div style="position:absolute;top:790;left:392"><span class="ft1">CardView</span></div>
<div style="position:absolute;top:790;left:461"><span class="ft0">了。</span></div>
<div style="position:absolute;top:811;left:158"><span class="ft0">大致思想是这样：</span></div>
<div style="position:absolute;top:811;left:291"><span class="ft1">RecyclerView</span></div>
<div style="position:absolute;top:811;left:385"><span class="ft0">的根元素是一个个横向</span></div>
<div style="position:absolute;top:811;left:556"><span class="ft1">match_parent</span></div>
<div style="position:absolute;top:811;left:655"><span class="ft0">的</span></div>
<div style="position:absolute;top:831;left:125"><span class="ft1">FrameLayout</span></div>
<div style="position:absolute;top:831;left:212"><span class="ft0">，而这些</span></div>
<div style="position:absolute;top:831;left:280"><span class="ft1">FrameLayout</span></div>
<div style="position:absolute;top:831;left:372"><span class="ft0">至少作为根元素来说是一样的。而我需要操作</span></div>
<div style="position:absolute;top:852;left:125"><span class="ft0">的是里面的</span></div>
<div style="position:absolute;top:852;left:212"><span class="ft1">CardView</span></div>
<div style="position:absolute;top:852;left:277"><span class="ft0">。我让</span></div>
<div style="position:absolute;top:852;left:331"><span class="ft1">CardView</span></div>
<div style="position:absolute;top:852;left:400"><span class="ft0">靠左靠右，都是</span></div>
<div style="position:absolute;top:852;left:520"><span class="ft1">FrameLayout</span></div>
<div style="position:absolute;top:852;left:612"><span class="ft0">里面的事，</span></div>
<div style="position:absolute;top:873;left:125"><span class="ft0">而之前的裸</span></div>
<div style="position:absolute;top:873;left:212"><span class="ft1">CardView</span></div>
<div style="position:absolute;top:873;left:281"><span class="ft0">就没有这么自由了，因为它是由</span></div>
<div style="position:absolute;top:873;left:516"><span class="ft1">RecyclerView</span></div>
<div style="position:absolute;top:873;left:610"><span class="ft0">动态生成的，</span></div>
<div style="position:absolute;top:894;left:125"><span class="ft0">内部原因细&frac12;请读者自行找寻，该内容不是本文讨论的重点。</span></div>
<div style="position:absolute;top:915;left:158"><span class="ft0">说到这里就要引入</span></div>
<div style="position:absolute;top:915;left:295"><span class="ft1">Java</span></div>
<div style="position:absolute;top:915;left:328"><span class="ft0">代码了。</span></div>
<div style="position:absolute;top:936;left:158"><span class="ft0">前面提到，一个</span></div>
<div style="position:absolute;top:936;left:279"><span class="ft1">RecyclerView</span></div>
<div style="position:absolute;top:936;left:373"><span class="ft0">需要一个</span></div>
<div style="position:absolute;top:936;left:443"><span class="ft1">Adapter</span></div>
<div style="position:absolute;top:936;left:498"><span class="ft0">。这个</span></div>
<div style="position:absolute;top:936;left:552"><span class="ft1">Adapter</span></div>
<div style="position:absolute;top:936;left:611"><span class="ft0">是一个需要</span></div>
<div style="position:absolute;top:956;left:125"><span class="ft0">你自己实现的一个抽象类。它同时需要一个</span></div>
<div style="position:absolute;top:956;left:445"><span class="ft1">ViewHolder</span></div>
<div style="position:absolute;top:956;left:525"><span class="ft0">，而</span></div>
<div style="position:absolute;top:956;left:562"><span class="ft1">ViewHolder</span></div>
<div style="position:absolute;top:956;left:645"><span class="ft0">同样也</span></div>
<div style="position:absolute;top:977;left:125"><span class="ft0">是一个抽象类，也需要开发者自行实现。</span></div>
<div style="position:absolute;top:998;left:158"><span class="ft0">由于该</span></div>
<div style="position:absolute;top:998;left:212"><span class="ft1">Adapter</span></div>
<div style="position:absolute;top:998;left:271"><span class="ft0">和</span></div>
<div style="position:absolute;top:998;left:292"><span class="ft1">ViewHolder</span></div>
<div style="position:absolute;top:998;left:375"><span class="ft0">是针对单个</span></div>
<div style="position:absolute;top:998;left:462"><span class="ft1">Activity</span></div>
<div style="position:absolute;top:998;left:517"><span class="ft0">而言的，所以大可&frac12;这两</span></div>
<div style="position:absolute;top:1019;left:125"><span class="ft0">个类作为</span></div>
<div style="position:absolute;top:1019;left:195"><span class="ft1">Activity</span></div>
<div style="position:absolute;top:1019;left:250"><span class="ft0">的子类。官方的实现中这两个抽象类也是</span></div>
<div style="position:absolute;top:1019;left:549"><span class="ft1">RecyclerView</span></div>
<div style="position:absolute;top:1019;left:643"><span class="ft0">的子类。</span></div>
<div style="position:absolute;top:1040;left:158"><span class="ft0">下面是我的代码。首先给出</span></div>
<div style="position:absolute;top:1040;left:362"><span class="ft1">ViewHolder</span></div>
<div style="position:absolute;top:1040;left:441"><span class="ft0">。</span></div>
<script TYPE="text/javascript">
			var currentZoom = parent.ltop.currentZoom;
			if(currentZoom != undefined)
				document.body.style.zoom=currentZoom/100;
			</script>
</body>
</html>